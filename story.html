<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–°–æ–±–µ—Ä–∏ —Ä–∞—Å—Å–∫–∞–∑</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #0e0e2c;
        color: white;
        text-align: center;
        padding: 20px;
    }
    .container {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-top: 20px;
    }
    .block {
        background-color: #1f1f4d;
        padding: 10px;
        border-radius: 10px;
        cursor: grab;
        min-width: 150px;
    }
    .dropzone {
        border: 2px dashed white;
        padding: 15px;
        min-width: 150px;
        min-height: 50px;
        background-color: #1a1a3d;
        border-radius: 10px;
    }
    button {
        margin-top: 20px;
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
        border: none;
        border-radius: 8px;
        background-color: #4cafef;
        color: white;
    }
    #startScreen { display: block; margin-top: 100px; }
    #gameScreen { display: none; }
    #homeBtn {
        display: none;
        padding: 15px 30px;
        font-size: 1.2em;
        border: none;
        border-radius: 10px;
        background: #4CAF50;
        color: white;
        cursor: pointer;
        margin-top: 20px;
    }
</style>
</head>
<body>

<!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω -->
<div id="startScreen">
    <h1>ü™ê –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ "–°–æ–±–µ—Ä–∏ —Ä–∞—Å—Å–∫–∞–∑"</h1>
    <p>–°–æ–±–µ—Ä–∏ –∫–æ—Å–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ –∫—É—Å–æ—á–∫–æ–≤!</p>
    <button onclick="startGame()">üöÄ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
</div>

<!-- –≠–∫—Ä–∞–Ω –∏–≥—Ä—ã -->
<div id="gameScreen">
    <h1>ü™ê –°–æ–±–µ—Ä–∏ —Ä–∞—Å—Å–∫–∞–∑</h1>
    <p>–ü–µ—Ä–µ—Ç–∞—â–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.</p>

    <div class="container" id="phrases">
        <div class="block" draggable="true" data-order="2">–ó–∞—Ç–µ–º –æ–Ω —É–≤–∏–¥–µ–ª –∫–æ—Å–º–∏—á–µ—Å–∫–∏–π –∫–æ—Ä–∞–±–ª—å.</div>
        <div class="block" draggable="true" data-order="1">–û–¥–Ω–∞–∂–¥—ã –º–∞–ª—å—á–∏–∫ –≤—ã—à–µ–ª –Ω–æ—á—å—é –≤–æ –¥–≤–æ—Ä.</div>
        <div class="block" draggable="true" data-order="3">–û–Ω –ø–æ–¥–Ω—è–ª—Å—è –Ω–∞ –±–æ—Ä—Ç –∏ –æ—Ç–ø—Ä–∞–≤–∏–ª—Å—è –≤ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ.</div>
    </div>

    <h2>–¢–≤–æ–π —Ä–∞—Å—Å–∫–∞–∑:</h2>
    <div class="container" id="story">
        <div class="dropzone"></div>
        <div class="dropzone"></div>
        <div class="dropzone"></div>
    </div>

    <button onclick="checkStory()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
    <button id="homeBtn" onclick="goHome()">üè† –ù–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω</button>
</div>

<script>
let dragged;

function startGame() {
    document.getElementById("startScreen").style.display = "none";
    document.getElementById("gameScreen").style.display = "block";
}

function goHome() {
    document.getElementById("gameScreen").style.display = "none";
    document.getElementById("startScreen").style.display = "block";
    document.getElementById("homeBtn").style.display = "none";
}

document.addEventListener("dragstart", (e) => {
    if (e.target.classList.contains("block")) {
        dragged = e.target;
    }
});

document.addEventListener("dragover", (e) => e.preventDefault());

document.addEventListener("drop", (e) => {
    if (e.target.classList.contains("dropzone") || e.target.classList.contains("block")) {
        e.preventDefault();
        let dropTarget = e.target.classList.contains("block") ? e.target.parentNode : e.target;
        if (dropTarget.classList.contains("dropzone")) {
            if (!dropTarget.hasChildNodes()) {
                dropTarget.appendChild(dragged);
            } else {
                // –ú–µ–Ω—è–µ–º –º–µ—Å—Ç–∞–º–∏
                let other = dropTarget.firstChild;
                let parentOfDragged = dragged.parentNode;
                dropTarget.appendChild(dragged);
                if (parentOfDragged.classList.contains("dropzone")) {
                    parentOfDragged.appendChild(other);
                }
            }
        }
    }
});

function checkStory() {
    let zones = document.querySelectorAll(".dropzone");
    let correct = true;

    zones.forEach((zone, index) => {
        if (zone.firstChild && zone.firstChild.getAttribute("data-order") != index + 1) {
            correct = false;
        }
    });

    if (correct) {
        alert("‚úÖ –û—Ç–ª–∏—á–Ω–æ! –†–∞—Å—Å–∫–∞–∑ —Å–æ–±—Ä–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ!");
        document.getElementById("homeBtn").style.display = "inline-block";
    } else {
        alert("‚ùå –ü–æ—Ä—è–¥–æ–∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑!");
    }
}

</script>

</body>
</html>
